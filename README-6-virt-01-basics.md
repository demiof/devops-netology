# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Введение

Перед выполнением задания вы можете ознакомиться с 
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/master/additional/README.md).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
  > Т.к. ключ-значение, по этой структуре Redis лучше всего подойдет 
- Склады и автомобильные дороги для логистической компании
  > Скорее всего хранить придется координаты, адреса, даты, целые, отношения - SQL, например Mysql, MariaDB, Mssql
- Генеалогические деревья
  > строго иерархические структура, выбор за NOSQL иерархическими СУБД
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
  > Memcached или Redis.
- Отношения клиент-покупка для интернет-магазина
  > Если Клиент и Покупка предполагает более одного атрибута, тогда SQL.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
> Если 100% записываютя, то C - что означает consistent, т.е. данные согласованы, но при разделении данные не будут согласованы, поэтому данная система - CA

- При сетевых сбоях, система может разделиться на 2 раздельных кластера
> P - система устойчива к разделению, в том случае, если система будет стабильна при именно разделении (отказе) связи между работающими нодами (а не две отдельно работающие не консистентные системы, что есть split brain), таким образом система будет Available на двух различных нодах, но не консистента, т.е. PA, или консистента но не устойчива к разделению т.е. CA.

- Система может не прислать корректный ответ или сбросить соединение
> Not A - система не обладает свойством Availabilty, т.е. не 100% доступна, но может быть консистентна или даже учстойчива к разлению, т.е. PC.


А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
> Если 100% записываютя, а асинхронная запись предполагает задержку то C - что означает consistent, т.е. данные согласованы, но при разделении данные не будут согласованы, поэтому данная система - L или C (не устойчива к разделению, но либо согласована с либо доступна с некоторой задержкой)
 
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
> P - система устойчива к разделению, а значит либо доступна (есть две доступные ноды с несогласованными данными), либо согласована (но не отвечающая на запросы).

- Система может не прислать корректный ответ или сбросить соединение
> Если система все-таки разделилась, и не 100% доступна, то согласована, в противном случае не разделена, доступна с некоторой задержкой или согласована но не доступна.

> 

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

ACID это про транзакции и ее принципы: целостность - согласованность - изолированность - устойчивость, в концепции BASE наиболее поздней термин базовая доступность означает не 100%-ую моментную доступность, так как предполагает деградацию части не критичных сессий. 
Но, если расценивать, что наши сессии-транзакции попали в те критичные, то теоретически можно предположить, что принципы будут сочетаться, хотя на практике про такое не слышал.

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

> Pub-Sub - системы, где публикатор и подписчик взаимодействуют через промежуточную систему (обычно реализующую функционал брокера, хотя может быть и на любом из участников), которая типизирует, оправляет (или получает запросы от подписчиков на типы публикаций) ...
Хранилища key-value это NoSql СУБД которые хранят занчения уникально определенные с помощью ключа, например, при помощи JSON-подобной структуры в Redis или Memcached.

---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
