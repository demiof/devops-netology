
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

> Паравиртуализация обязательно подразумевает наличие хост ОС, на которой создаются гостевые виртуальные машины с гостевыми ОС. То же самое и у виртуализации на основе ОС - есть промежуточная ОС, в отличии, например, от Аппаратной виртуализации. ПВ и ВОС отличает главное: ВОС всегда имеет таке же типы ядер как и хост ОС, в отличии от ПВ, где типы ядер на гостевых ОС могут отличатся от типов дер хост ОС.

> При рабте в режиме паравиртуализации каждая ВМ это процесс в гостеевой ОС. Между ВМ и аппаратной платформой есть промежуточная гостевая ОС с монитором вируальных машин, которая разделяет процесс с гостевой ОС. Гипервизор модифицирует ядро гостевой ОС для разделения доступа к аппаратным средствам физического сервера.  
> В режиме аппаратном - гипервизор сам является ОС и в нем существует менеджер ВМ, он связывает аппаратные ресурсы сервера и гостевую ОС, ядро не модифицируется.


## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- Высоконагруженная база данных, чувствительная к отказу.

> Паравиртуализация для возможностей оперативной миграций, наиболее оптимального выбора использования стораджей, эффективной и автоматизированной компрессии и декомпрессии бэкапов ... 

- Различные web-приложения.

> аналогично предыдущим условия использования.

- Windows системы для использования бухгалтерским отделом.

> Паравиртуализация, по тем же, указанным выше причинам ... Но, возможно, в конкретных случах, модернизация с физ. серверов, будет болезненно воспринята и потребуется доолнительная бюджетная нагрузка, в том числе на лицензирование, для создания в сторонке ПВ и переноса данных в час Х.

- Системы, выполняющие высокопроизводительные расчеты на GPU.

> Физические сервера, по причинам максимальной утилизации вычислительных мощностей.



Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

> Паравиртуальный гипервизор со средством для управления виртуальными средами, например Vagrant + Vbox. Серийное управление кнфигами ВМ позволит сократить время, по имплементации общих задач. Например, из конфига в цикле сможем задать IP интерфейсов как для private, так и для public сетей, так же установим кол-во ядер, памяти и дискового пространства. Но! Так ка как кол-во виртулок 100 и не сказано, что гипервизор должен быть бесплатным, и то, что не доводилось тестить такой объем лично, наверное стоит взглянуть на что-то по серьезнее, виде Vmvare или Hyper-V, первую с точки зрения надежности, вторую с точки зрения встроенности в Win ОС. Критичные сервисы возможно реализовать на Аппаратных виртуалках, хорошо, что одновременную и паравиртуализацию и аппаратную умееет Xen. 


> Вопрос: не будет проблем при управлении разными серверами?
> Если в вопросе к ответам к 3.1. и в 3.2. програмный балансировщик подразумевается на nginx с ВМ на linux, реплики на rsync, а резервирование средствами proxmox, то думаю, проблемы могут возникнуть только с репликами на уровне различия СУБД. Но, был опыт работы с ВМ на proxmox, которая успешна несла в себе Win 7.



2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

> Паравиртуальный гипервизор со средством для управления виртуальными средами, например, Vbox + Vagrant. Серийное управление несколькими конфигами  позволит сократить время на деплоймент.

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

> С помощью паравиртуализации, того же VBox, KVM+Proxmox.

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

> С помощью виртуализации на основе ОС, в том числе с помощью контейнеризации, например Docker.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

> Гетерогенность - плохо, не дает возможности шаблолнизациии и оправдывается лишь действительно всекими на то причинами. Vagrant, как и весь прочий IaaC, пердоставляет нам замечательную возможность описания инфраструктуры, в некоторых местах с использоввнием циклов, а гетерогенность, наверняка, будет в этом препятствием, что не даст получить профит ни по времени ни, по упрощению инфрастрктуры, ни по контролю внедрения новых элементов среды.
